services:
  storcube-bridge:
    build: .
    container_name: storcube-stacker-bridge
    restart: unless-stopped
    environment:
      # --- Configuration MQTT ---
      - MQTT_BROKER=192.168.1.50  # Remplace par l'IP de ton broker (ex: addon Mosquitto)
      - MQTT_PORT=1883
      - MQTT_USERNAME=votre_utilisateur_mqtt
      - MQTT_PASSWORD=votre_mot_de_passe_mqtt
      
      # --- Configuration Storcube ---
      - LOGIN_NAME=votre_email@exemple.com
      - PASSWORD=votre_mot_de_passe_app_storcube
      - DEVICE_ID=votre_id_appareil_unique
      - APP_CODE=Storcube
      
      # --- Topics (Optionnel, les valeurs par d√©faut sont dans le script) ---
      - MQTT_TOPIC_BATTERY=battery/reportEquip
      - MQTT_TOPIC_POWER=battery/set_power
      - MQTT_TOPIC_THRESHOLD=battery/set_threshold
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
